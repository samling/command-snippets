# TplKit Configuration File
# Advanced command template toolkit with intelligent variable substitution

# Transform templates - reusable transformation rules
transform_templates:
  # Kubernetes namespace transformation
  k8s-namespace:
    description: "Kubernetes namespace: empty=none, 'all'=-A, name=-n <name>"
    transform:
      empty_value: ""
      value_pattern: |
        {{- if eq .Value "all" -}}
          -A
        {{- else -}}
          -n {{.Value}}
        {{- end -}}

  # Docker container transformation  
  docker-port:
    description: "Docker port mapping (hostport:targetport)"
    transform:
      empty_value: ""
      value_pattern: "-p {{.Value}}:{{.Value}}"

  # Boolean flag transformation
  follow-logs:
    description: "Follow logs flag"
    transform:
      true_value: "-f"
      false_value: ""

# Variable type definitions - reusable variable configurations
variable_types:
  port:
    description: "Network port"
    validation:
      range: [1, 65535]
    default: "8080"

  log_level:
    description: "Application log level" 
    validation:
      enum: ["debug", "info", "warn", "error"]
    default: "info"

  environment:
    description: "Deployment environment"
    validation:
      enum: ["dev", "staging", "prod"]

  namespace:
    description: "Kubernetes namespace"
    default: ""

# Example snippets (main snippets are loaded from additional files)
snippets: {}

# Global settings
settings:
  # Optional: Load additional config files (relative to this config file)
  additional_configs:
    - "snippets/kubernetes.yaml"
    - "snippets/docker.yaml"
    - "snippets/git.yaml"
    # - "~/my-custom-snippets.yaml"  # Absolute paths also work
  
  # Interactive behavior  
  interactive:
    confirm_before_execute: true
    show_final_command: true
    
  # Selector integration (fzf, etc)
  selector:
    command: "fzf"
    options: "--height 40% --reverse --border"
